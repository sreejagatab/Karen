<section class="py-16 bg-white">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold text-center text-green-800 mb-12 font-cursive">
      {{ section.settings.heading }}
    </h2>
    
    <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
      {% for block in section.blocks %}
        {% if block.type == 'plan' %}
          <div class="relative rounded-lg overflow-hidden {% if block.settings.popular %}transform scale-105{% endif %}">
            {% if block.settings.popular %}
              <div class="absolute top-0 right-0 bg-amber-400 text-green-800 py-1 px-4 font-bold">
                BEST VALUE
              </div>
            {% endif %}
            <div class="p-6 border-2 {% if block.settings.popular %}border-green-800 bg-amber-50{% else %}border-amber-200 bg-white{% endif %} rounded-lg shadow-lg">
              <h3 class="text-2xl font-bold text-green-800 mb-2">{{ block.settings.title }}</h3>
              <div class="text-3xl font-bold text-green-800 mb-6">{{ block.settings.price }}</div>
              <ul class="mb-8 space-y-3">
                {% for feature in block.settings.features %}
                  <li class="flex items-center">
                    <span class="text-green-800 mr-2">âœ“</span>
                    {{ feature }}
                  </li>
                {% endfor %}
              </ul>
              <a href="{{ block.settings.button_link }}" class="block w-full py-3 rounded-full font-bold text-center {% if block.settings.popular %}bg-green-800 text-white{% else %}bg-amber-300 text-green-800 border border-green-800{% endif %}">
                {{ block.settings.button_text }}
              </a>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
    
    {% if section.settings.show_cta %}
      <div class="max-w-3xl mx-auto mt-12 p-6 bg-amber-100 rounded-lg border-2 border-green-800">
        <p class="text-lg mb-4">
          {{ section.settings.cta_text_1 }}
        </p>
        <p class="text-lg mb-4">
          {{ section.settings.cta_text_2 }}
        </p>
        <p class="text-lg font-bold">
          {{ section.settings.cta_text_3 }}
        </p>
        <div class="mt-6 text-center">
          <a href="{{ section.settings.cta_button_link }}" class="inline-block px-8 py-3 bg-green-800 text-white rounded-full font-bold transform hover:scale-105 transition">
            {{ section.settings.cta_button_text }}
          </a>
        </div>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Pricing Section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Start Your Time Machine Journey"
    },
    {
      "type": "checkbox",
      "id": "show_cta",
      "label": "Show CTA Section",
      "default": true
    },
    {
      "type": "textarea",
      "id": "cta_text_1",
      "label": "CTA Text 1",
      "default": "Thinking of passing on this? No problem, just keep in mind."
    },
    {
      "type": "textarea",
      "id": "cta_text_2",
      "label": "CTA Text 2",
      "default": "We are a small batch provider and we are the only one with FDA certification, and market history. Again, we discovered this."
    },
    {
      "type": "textarea",
      "id": "cta_text_3",
      "label": "CTA Text 3",
      "default": "This is NOT A COMMODITY. We have enough for roughly 12,000 people. We will need more time to ramp up once this is sold out."
    },
    {
      "type": "text",
      "id": "cta_button_text",
      "label": "CTA Button Text",
      "default": "Try Risk Free Today"
    },
    {
      "type": "url",
      "id": "cta_button_link",
      "label": "CTA Button Link"
    }
  ],
  "blocks": [
    {
      "type": "plan",
      "name": "Pricing Plan",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Plan Title",
          "default": "1 unit to try"
        },
        {
          "type": "text",
          "id": "price",
          "label": "Price",
          "default": "$90"
        },
        {
          "type": "textarea",
          "id": "features",
          "label": "Features (one per line)",
          "default": "30-day supply\nRisk-free guarantee\nFree shipping"
        },
        {
          "type": "checkbox",
          "id": "popular",
          "label": "Mark as Popular",
          "default": false
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "Select"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Pricing Section",
      "category": "Custom",
      "blocks": [
        {
          "type": "plan"
        },
        {
          "type": "plan",
          "settings": {
            "title": "3 month supply",
            "price": "$195",
            "features": "90-day supply\nSave $75\nRisk-free guarantee\nFree shipping",
            "popular": true
          }
        },
        {
          "type": "plan",
          "settings": {
            "title": "3 month subscription",
            "price": "$180",
            "features": "90-day supply\nSave $90\nCancel anytime\nFree shipping"
          }
        }
      ]
    }
  ]
}
{% endschema %}
